---
title: "ValleyBike Data Documentation"
output: html_document
---

```{r setup, include=FALSE}
library(dplyr)
library(valleybike)

knitr::opts_chunk$set(
  tidy = FALSE,
  comment = NA)
```

## Corrupted Files

471 files in total (by day).

The following days (9 days) contain corrupt files (161 bytes):

- 2018-09-01
- 2018-09-02
- 2018-09-07
- 2018-09-08
- 2018-09-30
- 2018-10-05
- 2018-10-13
- 2018-10-20
- 2019-04-19

They are kept in the `inst/extdata` folder anyway.

## Compile all the data yourself

This takes long - around 10 min on a MacOS Catalina with 8GB RAM.

```{r, eval=FALSE}
full_data <- import_full()
```

## Compile and clean a single daily file

```{r}
import_day("2019-04-06", return = "anomalous") %>%
  select(-c(route_id, user_id)) %>%
  head()
```

## Compile and clean a by-month file

**NOTE:** The parameter `future_cutoff` is set to 24 for all by-month files. If you would like to access data beyond that future cutoff, you will need to import the raw files yourself, with a higher `future_cutoff` value.

```{r, eval=FALSE}
april2019 <- import_month("2019-04", return = "clean", future_cutoff = 24)
```
